<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="shortcut icon" href="assets/favicon.png" type="image/x-icon">
    <title>Medicine List - Zaman Medical Store</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', sans-serif;
            background: #F7F9FC;
            color: #1a1a1a;
            opacity: 0;
            animation: fadeInBody 1.2s ease forwards;
        }

        @keyframes fadeInBody {
            to {
                opacity: 1;
            }
        }

        /* header  */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #1A2A80;
            padding: 15px 40px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header .logo {
            font-size: 1.8rem;
            color: #fff;
            font-weight: bold;
            text-shadow: 0 0 8px #1bf7ff, 0 0 8px #1bf7ff;
        }

        header ul {
            list-style: none;
            display: flex;
            gap: 25px;
            margin: 0;
            padding: 0;
        }

        header ul li a {
            text-decoration: none;
            color: #fff;
            padding: 8px 14px;
            border-radius: 5px;
            transition: background 0.3s ease;
            text-shadow: 0 0 15px #FFD166, 0 0 30px #FFD166;
            font-size: 15px;
        }

        header ul li a:hover {
            box-shadow: 0 0 15px #1bf7ff, 0 0 30px #1bf7ff;
            font-size: large;
        }

        h2 {
            text-align: center;
            margin-top: 25px;
            margin-bottom: 25px;
            color: #1A2A80;
            font-size: 2.5rem;
            text-shadow: 0 0 10px #FFD166 , 0 0 10px #FFD166;
            opacity: 0;
            animation: slideDown 1s ease 0.4s forwards;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .container {
            animation: slideUp 1s ease 0.6s forwards;
            opacity: 0;
        }

        @keyframes slideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }

            from {
                opacity: 0;
                transform: translateY(40px);
            }
        }

        /* Glow Button */
        .glow-btn {
            background-color: #3933f0;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: bold;
            margin: 20px auto;
            display: block;
            box-shadow: 0 0 20px #FFD166, 0 0 20px #FFD166;
            transition: all 0.3s ease;
            font-size: 1rem;
            cursor: pointer;
            opacity: 0;
            animation: zoomIn 1s ease 0.8s forwards;
        }

        @keyframes zoomIn {
            to {
                opacity: 1;
                transform: scale(1);
            }

            from {
                opacity: 0;
                transform: scale(0.8);
            }
        }

        .glow-btn:hover {
            background-color: #1A2A80;
            box-shadow: 0 0 25px #3933f0;
            font-size: large;
        }

        /* footer  */
        footer {
            text-align: center;
            padding: 15px;
            background-color: #1A2A80;
            color: white;
            position: fixed;
            bottom: 0;
            width: 100%;
        }
    </style>
</head>

<body>

    <header>
        <div class="logo">Zaman Medical Store</div>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about us.html">About us</a></li>
            <li><a href="add medicine.html">Add Medicine</a></li>
            <li><a href="medicine list.html">Medicine list</a></li>
            <li><a href="login.html">Login</a></li>
            <li><a href="signup.html">Singup</a></li>
        </ul>
    </header>

    <main>
        <h2>Medicine List & Management</h2>

        <div class="container">
            <input type="search" id="searchBox" placeholder="Search Medicine by Name..." class="form-control" />

            <div class="table-container mt-3">
                <table class="table table-bordered table-striped text-center">
                    <thead class="table-dark">
                        <tr>
                            <th>#</th>
                            <th>Rak No</th>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Expiry</th>
                            <th>Quantity</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="medicineTable">
                        <!-- JS will add rows here -->
                    </tbody>
                </table>
            </div>
        </div>

        <button class="glow-btn" onclick="goHome()">Add New Medicine</button>
    </main>

    <footer>
        &copy; 2025 Zaman Medical Store | All rights reserved
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const tableBody = document.getElementById("medicineTable");
            const searchBox = document.getElementById("searchBox");

            function renderTable(filterText = "") {
                tableBody.innerHTML = "";
                const medicines = JSON.parse(localStorage.getItem("medicines")) || [];

                medicines.forEach((med, index) => {
                    if (med.name.toLowerCase().includes(filterText.toLowerCase())) {
                        const row = document.createElement("tr");

                        row.innerHTML = `
                            <td>${index + 1}</td>
                            <td>${med.rakNo}</td>
                            <td>${med.name}</td>
                            <td>${med.type}</td>
                            <td>${med.expiry}</td>
                            <td>${med.quantity <= 3 ? '<span class="text-danger fw-bold">Low</span>' : '<span class="text-success fw-bold">In Stock</span>'}</td>
                            <td>
                                <button class="btn btn-sm btn-warning" onclick="editMedicine(${index})">Edit</button>
                                <button class="btn btn-sm btn-danger" onclick="deleteMedicine(${index})">Delete</button>
                            </td>
                        `;
                        tableBody.appendChild(row);
                    }
                });
            }

            renderTable();

            searchBox.addEventListener("input", function () {
                renderTable(this.value);
            });
        });

        function deleteMedicine(index) {
            const medicines = JSON.parse(localStorage.getItem("medicines")) || [];
            if (confirm("Are you sure you want to delete this medicine?")) {
                medicines.splice(index, 1);
                localStorage.setItem("medicines", JSON.stringify(medicines));
                location.reload();
            }
        }

        function editMedicine(index) {
            localStorage.setItem("editIndex", index);
            window.location.href = "add medicine.html";
        }

        function goHome() {
            window.location.href = "add medicine.html";
        }
    </script>
</body>

</html>
